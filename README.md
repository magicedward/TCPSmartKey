# jt-808-protocol
https://192.168.1.2/svn/Proprietary/SmartKey
实在抱歉，这是最后一次受邀更新该项目。

本人已于半年前换工作，新工作中不再接触808相关的代码。
想继续维护这个项目，无奈私人时间真是不多。

还请各位见谅。


# 备注

- 程序入口:```cn.hylexus.jt808.server.TCPServer.main(String[])```

# 测试数据

## 心跳包

```shell
7e000200000200000000150003327e
7e # 标识位
000200000200000000150003 # 消息头
    0002 # 消息ID
    0000 # 消息体属性，消息体属性每个位都为零,也即第12-15位的消息包封装项不存在,消息体也为空
    020000000015 # 终端手机号
    0003 # 流水号
32 # 校验码
7e # 标识位
```

## 鉴权包

```shell
7e010200060200000000150026313639333434397e

7e # 标识位
010200060200000000150026 # 消息头
    0102 # 消息ID
    0006 # 消息体属性
        0x0006=0b(0000,0000,0000,0110)
        消息体长度[0-9]==0b(00,0000,0110)==6字节
        数据加密方式[10-12]==0b(000)
        分包[13]==0,也即第12-15位的消息包封装项不存在
        保留位[14-15]==00
    020000000015 # 终端手机号
    0026 # 流水号
313639333434 # 消息体 6个字节
39 # 校验码	
7e # 标识位
```

## 注册包

```shell
7e0100002c0200000000150025002c0133373039363054372d54383038000000000000000000000000003033323931373001d4c142383838387b7e

7e # 标识位
010200060200000000150026 # 消息头
    0100 # 消息ID
    002c # 消息体属性
        0x002c=0b(0000,0000,0010,1100)
        消息体长度[0-9]==0b(00,0010,1100)==44字节
        数据加密方式[10-12]==0b(000)
        分包[13]==0,也即第12-15位的消息包封装项不存在
        保留位[14-15]==00
    020000000015 # 终端手机号
    0025 # 流水号
# 消息体 44个字节
002c0133373039363054372d54383038000000000000000000000000003033323931373001d4c14238383838 
	002c #省域 ID
	0133 #市县域 ID
	3730393630 #制造商 ID
	54372d5438303800000000000000000000000000 #终端型号
	30333239313730 #终端 ID
	……………………
	……………………
7b # 校验码	
7e # 标识位
```


# 珞宾本地实例
注册
7E 01 00 00 18 00 01 23 45 67 89 00 11 05 21 06 33 77 77 77 77 88 88 88 88 88 88 88 88 88 88 00 01 23 45 67 89 19 7E

心跳包
7E000200000000099787870005997E
终端应该收到 7E 80 01 00 05 00 00 09 97 87 87 00 00 00 05 00 02 00 1D 7E
